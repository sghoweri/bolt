{% set attributes = create_attribute(attributes|default({})) %}
{% set base_class = "c-bolt-li" %}

{% set classes = [
  "#{base_class}",
  type ? "#{base_class}--#{type}-item",
  last ? "#{base_class}--last-item",
] %}

{% if nested %}
  {% if index == 1 %}
    <bolt-li {{ attributes }} role="presentation">
      <div role="presentation">
        <div class="{{ classes|join(" ") }}" role="listitem">
  {% endif %}
  <ssr-keep for="bolt-li">{{ children }}</ssr-keep>
  {% if length == index %}
        </div>
      </div>
    </bolt-li>
  {% endif %}
{% else %}
  <bolt-li {{ attributes }} role="presentation">
    <div role="presentation">
      <div class="{{ classes|join(" ") }}" role="listitem">
        <ssr-keep for="bolt-li">{{ children }}</ssr-keep>
      </div>
    </div>
  </bolt-li>
{% endif %}
